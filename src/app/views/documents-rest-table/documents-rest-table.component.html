<div class="card">
    <div class="card-header card-header-warning">
        <div class="container">
            <div class="con1">
                <h4 class="card-title">Список документов</h4>
            </div>
            <div class="con2">
                <button type="button"
                        title="Новый"
                        class="btn  btn-outline-primary btn-sm "
                        (click)="newDocument()">
                    <i class="material-icons">playlist_add</i>
                </button>
            </div>
            <div class="con2">
            <button type="button"
                    title="Обновить"
                    class="btn  btn-outline-primary btn-sm "
                    (click)="reloadData()">
                <i class="material-icons">replay</i>
            </button>
        </div>
        </div>
    </div>
    <div class="example-container mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>
            <ng-container matColumnDef="id">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>id</th>
                <td *matCellDef="let document" mat-cell>
                    {{document.id}}
                </td>
            </ng-container>

            <ng-container matColumnDef="doctype">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Тип документа</th>
                <td *matCellDef="let document" mat-cell>
                    {{document.doctype.title}}
                </td>
            </ng-container>

            <ng-container matColumnDef="number">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Номер</th>
                <td *matCellDef="let document" mat-cell>
                    {{document.number}}
                </td>
            </ng-container>

            <ng-container matColumnDef="docDate">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Дата</th>
                <td *matCellDef="let document" mat-cell>
                    {{document.docDate}}
                </td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Заголовок</th>
                <td *matCellDef="let document" mat-cell>
                    {{document.title}}
                </td>
            </ng-container>

            <ng-container matColumnDef="sender">
                <th *matHeaderCellDef mat-header-cell mat-sort-header>Отправитель</th>
                <td *matCellDef="let document"  mat-cell>
                    <div *ngFor="let sender of document.senders">
                        <div *ngIf="sender != undefined">
                            {{ sender.title }}
                        </div>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th *matHeaderCellDef mat-header-cell>Действие</th>
                <td *matCellDef="let document" mat-cell>
                    <button type="button"
                            title="Редактировать"
                            class="btn btn-primary btn-link btn-sm"
                            (click)="editDocument(document)">
                        <i class="material-icons">edit</i>
                        <div class="ripple-container"></div>
                    </button>

                    <button type="button"
                            title="Удалить"
                            class="btn btn-danger btn-link btn-sm"
                            (click)="deleteDocument(document)"
                    >
                        <i class="material-icons">close</i>
                    </button>
                </td>
            </ng-container>


            <tr *matHeaderRowDef="displayedColumns; sticky: true" mat-header-row></tr>
            <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10]" showFirstLastButtons></mat-paginator>
    </div>
</div>

